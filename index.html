<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Mathematical Base Defenders</title>

        <link rel="stylesheet" type="text/css" href="/css/global.css" />
        <script src="https://www.google.com/recaptcha/api.js"></script>
        <style>
            #notification {
                top: -15%;
                width: 100%;
                height: 7.5%;
                background-color: black;
                color: white;
                z-index: 10;
                position: absolute;
                text-align: center;
            }

            #notification-text-wrapper {
                font-size: 2.5vmin;
                display: flex;
                align-items: center;
                justify-content: center;
                width: 100%;
                height: 100%;
            }

            .play-button {
                border-color: #149914;
                border-radius: 4px;
                background-color: #149414;
                border-style: solid;
                width: 300px;
                height: 72px;
                font-size: 48px;
                font-family: "Computer Modern Unicode Serif";
                color: white;
                transition: all 0.2s;
            }

            .play-button:hover {
                background-color: #17a717;
                border-color: #17a717;
            }

            #award-emblem-container {
                margin-right: 50%;
                text-align:center;
            }
        </style>
    </head>

    <body>
        <!-- Notification -->
        <div id="notification">
            <div id="notification-text-wrapper"></div>
        </div>

        <!-- Header -->
        <div style="font-size: 28px">
            <span float="left;">
                <div id="top-navigation-bar">
                    <input type="image" src="assets/images/mathematicalbasedefenders.png" style="height: 96px" class="link-button mathematical-base-defenders-logo" onClick="document.location.href='/'" />
                    <a class="link-button" style="font-size: 36px" href="play">Play</a>
                    <a class="link-button" href="register">Register</a>
                    <a class="link-button" href="statistics">Statistics</a>
                    <a class="link-button" href="leaderboards?mode=standard">Leaderboards</a>
                    <a class="link-button" href="about">About</a>
                </div>
            </span>
        </div>

        <!-- Content -->
        <div id="content-wrapper">
            <div style="display: flex; justify-content: center; align-items: center">
                <div style="font-size: 24px">
                    <div style="left: 15%; max-width: 90vw; word-wrap: break-word">
                        <div id="game-description" style="font-size: 48px"></div>
                        <br />
                        <br />
                        Mathematical Base Defenders, as the name suggests, is a math-based game. (boohoo)<br /><br />
                        You defend your base from square-shaped enemies using square-shaped tiles.<br /><br />
                        Register now for a special permanent "Tester" rank. <br /><br />
                        <button onClick="document.location='https://play.mathematicalbasedefenders.com'" class="play-button">Play</button><br /><span style="font-size: 16px">An account is not required to play, however registering for one is highly recommended.</span>
                        <br><br>
                        <div style="left:15%;width: 100%">
                            <div id="award-emblem-container">
                                <img src="assets/images/nsc2021awardemblem.png" style="height: 300px" /><br />
                                <p style="margin:0;"><a style="font-size: 12px" href="https://www.facebook.com/groups/NSCThailand/permalink/4258670394147302/">Want proof?</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div id="bottom-navigation-bar-wrapper">
            <div id="bottom-navigation-bar">
                <div id="bottom-navigation-bar-left-text">
                    Â©
                    <a href="https://mistertfy64.com" style="color: transparent" title="Mathematical Base Defenders' creator's personal website">
                        <img style="vertical-align: middle" src="assets/images/mistertfy64.svg" height="32px" />
                    </a>
                    2021-2022 &nbsp;
                    <a class="bottom-navigation-bar-text" href="changelog">Changelog</a>
                    <a class="bottom-navigation-bar-text" href="privacy-policy">Legal</a>
                    <a class="bottom-navigation-bar-text" href="open-source-acknowledgements">Acknowledgements</a>
                    <a class="bottom-navigation-bar-text" href="attributions">Attributions</a>
                    <div id="bottom-navigation-bar-right-text">
                        <a href="https://patreon.com/mistertfy64" style="color: transparent" title="Donate"> <img style="vertical-align: middle" src="assets/images/patreon.png" height="32px" /> </a>&nbsp; <a href="https://discord.gg/pDTZvrTXm9" style="color: transparent" title="Discord Server"> <img style="vertical-align: middle" src="assets/images/discord.svg" height="32px" /> </a>&nbsp; <a href="https://github.com/mathematicalbasedefenders/issuetracker" style="color: transparent" title="GitHub Issue Tracker"> <img style="vertical-align: middle" src="assets/images/github.png" height="32px" /> </a>&nbsp; <a href="https://facebook.com/mathematicalbasedefenders" style="color: transparent" title="Facebook"> <img style="vertical-align: middle" src="assets/images/facebook.png" height="32px" /> </a>&nbsp; <a href="https://twitter.com/MathematicalBD" style="color: transparent" title="Twitter"> <img style="vertical-align: middle" src="assets/images/twitter.png" height="32px" /> </a>&nbsp;
                        <a href="https://instagram.com/mathematicalbasedefenders" style="color: transparent" title="Instagram">
                            <img style="vertical-align: middle" src="assets/images/instagram.png" height="32px" />
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XVRB5TXW3K"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script>
        function pickAndShowGameDescription() {
            let descriptions = ["A competitive(?) multiplayer math game!!!!!!!!111111111!!!!1", "Defend your base from square-shaped enemies using square-shaped tiles!", "The hardest math game that only involves basic calculations????", "The worst math game ever?", "The most feature-creep math game ever?", "A math game you can't use a calculator on???"];
            document.getElementById("game-description").innerHTML = descriptions[Math.floor(Math.random() * descriptions.length)];
        }
    </script>

    <script>
        function checkURLQueryParameters() {
            let url = new URL(window.location.href);
            let registered = url.searchParams.get("registered");
            let sentPasswordResetLink = url.searchParams.get("sentpasswordresetlink");
            let changedPassword = url.searchParams.get("changedpassword");
            let verifiedEmail = url.searchParams.get("verifiedemail");
            let erroroccurred = url.searchParams.get("erroroccurred");

            if (erroroccurred != null) {
                if (erroroccurred == "true") {
                    showSlideDownNotification("An error has occurred!", "#ff2222");
                    return;
                }
            }

            if (registered != null) {
                if (registered == "true") {
                    showSlideDownNotification("Successfully registered! Check your email for a confirmation link! The link is valid for only 30 minutes!", "#259125");
                    return;
                }
            }

            if (sentPasswordResetLink != null) {
                if (sentPasswordResetLink == "true") {
                    showSlideDownNotification("Successfully sent you a password reset link! Check your email for the link! The link is valid for only 30 minutes!", "#259125");
                    return;
                }
            }

            if (changedPassword != null) {
                if (changedPassword == "true") {
                    showSlideDownNotification("Successfully changed your password!", "#259125");
                    return;
                }
            }

            if (verifiedEmail != null) {
                if (verifiedEmail == "true") {
                    showSlideDownNotification("Successfully verified e-mail! You may now log in!", "#259125");
                    return;
                }
            }
        }

        function showSlideDownNotification(message, backgroundColor) {
            $("#notification-text-wrapper").text(message);
            $("#notification").css({ "background-color": backgroundColor });
            $("#notification")
                .animate(
                    {
                        top: "0%",
                    },
                    500
                )
                .delay(2000)
                .animate(
                    {
                        top: "-15%",
                    },
                    500
                );
        }
    </script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag("js", new Date());

        gtag("config", "G-XVRB5TXW3K");
    </script>
    <script>
        pickAndShowGameDescription();
        checkURLQueryParameters();
    </script>
</html>
